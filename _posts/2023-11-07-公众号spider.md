---
title: '公众号文章爬取'
layout: post
tags:
  - 爬虫
  - python
category: 爬虫
---
公众号文章爬取

<!--more-->
# 一、获取文章列表（最新10条）【重点：wap_sid2】
## 1、获取公众号历史列表网页

### 在线网站获取法
地址：https://wx.okhelp.xyz/
![微信截图_20231113173345](https://raw.githubusercontent.com/QinL233/QinL233.github.io/master/images/微信截图_20231113173345.png)

### 打开文章后使用抓包分析__biz
![微信截图_20231113173454](https://raw.githubusercontent.com/QinL233/QinL233.github.io/master/images/微信截图_20231113173454.png)

## 2、破解`微信客户端打开`

### 公众号权限标识：cookie:wap_sid2
![微信图片_20231113173848](https://raw.githubusercontent.com/QinL233/QinL233.github.io/master/images/微信图片_20231113173848.png)

## 3、解析出文章列表
* 文件中携带了文章的json（最新10篇），通过解析json可以获取列表（需要html转义）
![微信截图_20231113174040](https://raw.githubusercontent.com/QinL233/QinL233.github.io/master/images/微信截图_20231113174040.png)

# 二、获取历史文章【重点：appmsg_token】
* 未认证请求在滚动到底部时，无法获取历史文章
![微信截图_20231113174543](https://raw.githubusercontent.com/QinL233/QinL233.github.io/master/images/微信截图_20231113174543.png)
